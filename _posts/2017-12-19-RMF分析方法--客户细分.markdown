---
layout: post
title:  "RMF分析方法--客户细分"
date:   2017-12-19 16:30:00
categories: Spark
tags: Spark
---

根据美国数据库营销研究所ArthurHughes的研究，客户数据库中有三个神奇的要素，这三个要素构成了数据分析较好的指标：
* 最近一次消费（Recency）
* 消费频率（Frequency）
* 消费金额（Monetary）   

　　RFM分析原多用于传统营销、零售业等领域，适用于拥有多种消费品或快速消费品的行业，只要任何有数据记录的消费都可以被用于分析。那么对于电子商务网站来说，网站数据库中记录的详细的交易信息，同样可以运用RFM分析模型进行数据分析，尤其对于那些已经建立起客户关系管理(CRM)系统的网站来说，其分析的结果将更具意义。
基本概念解释。    
　　RFM模型是衡量客户价值和客户创利能力的重要工具和手段。RFM分析模型主要由三个指标组成，下面对这三个指标的定义和作用做下简单解释：
###### 最近一次消费(Recency)
　　最近一次消费意指用户上一次购买的时间，理论上，上一次消费时间越近的顾客应该是比较好的顾客，对提供即时的商品或是服务也最有可能会有反应。因为最近一次消费指标定义的是一个时间段，并且与当前时间相关，因此是一直在变动的。最近一次消费对营销来说是一个重要指标，涉及吸引客户，保持客户，并赢得客户的忠诚度。

###### 消费频率(Frequency)
　　消费频率是顾客在一定时间段内的消费次数。最常购买的消费者，忠诚度也就较高，增加顾客购买的次数意味着从竞争对手处偷取市场占有率，由别人的手中赚取营业额。   
　　根据这个指标，我们又把客户分成五等分，这个五等分分析相当于是一个“忠诚度的阶梯”(loyaltyladder)，其诀窍在于让消费者一直顺着阶梯往上爬，把销售想像成是要将两次购买的顾客往上推成三次购买的顾客，把一次购买者变成两次的。

###### 消费金额(Monetary)
　　消费金额是对电子商务网站产能的最直接的衡量指标，也可以验证“帕雷托法则”(Pareto’sLaw)——公司80％的收入来自20％的顾客。

###### 数据获取与分析
　　在从数据库中提取相关数据之前，首先需要确定数据的时间跨度，根据网站销售的物品的差异，确定合适的时间跨度。如果经营的是快速消费品，如日用品，可以确定时间跨度为一个季度或者一个月；如果销售的产品更替的时间相对久些，如电子产品，可以确定时间跨度为一年、半年或者一个季度。在确定时间跨度之后就可以提取相应时间区间内的数据，其中：    
　　最近一次消费(Recency)，取出来的数据是一个时间点，需要由当前时间点-最近一次消费时间点来作为该度量的值，注意单位的选择和统一，无论以小时、天为单位；    
　　消费频率(Frequency)，这个指标可以直接在数据库中COUNT用户的消费次数得到；    
　　消费金额(Monetary)，可以将每位客户的所有消费的金额相加(SUM)求得。    
　　获取三个指标的数据以后，需要计算每个指标数据的均值，分别以AVG(R)、AVG(F)、AVG(M)来表示，最后通过将每位客户的三个指标与均值进行比较，可以将客户细分为8类：
| Recency|Frequency|Monetary|客户类型    |
|:------:|:-------:|:------:|:---------:|
|   ↑    |    ↑    |   ↑    |重要价值客户|
|   ↑    |    ↓    |   ↑    |重要发展客户|
|   ↓    |    ↑    |   ↑    |重要保持客户|
|   ↓    |    ↓    |   ↑    |重要挽留客户|
|   ↑    |    ↑    |   ↓    |一般价值客户|
|   ↑    |    ↓    |   ↓    |一般发展客户|
|   ↓    |    ↑    |   ↓    |一般保持客户|
|   ↓    |    ↓    |   ↓    |一般挽留客户|
“↑”表示大于均值，“↓”表示小于均值

###### 结果的展示
　　RFM模型包括三个指标，无法用平面坐标图来展示，所以这里使用三维坐标系进行展示，一种X轴表示Recency，Y轴表示Frequency，Z轴表示Monetary，坐标系的8个象限分别表示8类用户，根据上表中的分类，可以用如下图形进行描述：   
![rmf](/assets/img/rmf.jpg)    
　　RFM分析也存在着一定的缺陷，它只能分析有交易行为的用户，而对访问过网站但未消费的用户由于指标的限制无法进行分析，这样就无法发现潜在的客户。所以在分析电子商务网站的用户时，由于网站数据的丰富性——不仅拥有交易数据，而且可以收集到用户的浏览访问数据，可以扩展到更广阔的角度去观察用户，这方面的定量分析会在之后的网站用户分析中进行详细叙述。
