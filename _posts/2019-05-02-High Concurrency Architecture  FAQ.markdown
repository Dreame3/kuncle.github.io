---
layout: post
title:  "High Concurrency Architecture FAQ"
date:   2019-05-02 23:00:00
categories: "Distributed"
tags: "Distributed"
---
1. 如何设计一个高并发系统？
2. 消息队列
  + 为什么使用消息队列？
  + 消息队列有什么优点和缺点？
  + kafka、activemq、rabbitmq、rocketmq都有什么优点和缺点？
  + 如何保证消息队列的高可用啊？
  + 如何保证消息不被重复消费啊（如何进行消息队列的幂等性问题）？
  + 如何保证消息的可靠性传输（如何处理消息丢失的问题）？
  + 如何保证消息的顺序性？
  + 如何解决消息队列的延时以及过期失效问题？
  + 消息队列满了以后该怎么处理？
  + 有几百万消息持续积压几小时，怎么解决？
  + 如果让你写一个消息队列，该如何进行架构设计？说一下你的思路
3. 搜索引擎
  + es的分布式架构原理能说一下么（es是如何实现分布式的）？
  + es写入数据的工作原理是什么？
  + es查询数据的工作原理是什么？
  + 底层的lucene介绍一下？
  + 倒排索引？
  + es在数据量很大的情况下（数十亿级别）如何提高查询效率？
  + es生产集群的部署架构是什么？
  + 每个索引的数据量大概有多少？
  + 每个索引大概有多少个分片？
4. 缓存
  + 在项目中缓存是如何使用的？
  + 缓存如果使用不当会造成什么后果？
  + redis和memcached有什么区别？
  + redis的线程模型是什么？
  + 为什么单线程的redis比多线程的memcached效率要高得多？
  + redis都有哪些数据类型？
  + 分别在哪些场景下使用比较合适？
  + redis的过期策略都有哪些？
  + 手写一下LRU代码实现？
  + 如何保证Redis高并发、高可用、持久化？
  + redis的主从复制原理能介绍一下么？
  + redis的哨兵原理能介绍一下么？
  + redis的持久化有哪几种方式？
  + 不同的持久化机制都有什么优缺点？
  + 持久化机制具体底层是如何实现的？
  + redis集群模式的工作原理能说一下么？
  + 在集群模式下，redis的key是如何寻址的？
  + 分布式寻址都有哪些算法？
  + 了解一致性hash算法吗？
  + 如何动态增加和删除一个节点？
  + 了解什么是redis的雪崩和穿透？
  + redis崩溃之后会怎么样？
  + 系统该如何应对这种情况？
  + 如何处理redis的穿透？
  + 如何保证缓存与数据库的双写一致性？
  + redis的并发竞争问题是什么？
  + 如何解决这个问题？
  + 了解Redis事务的CAS方案吗？
  + 生产环境中的redis是怎么部署的？
5. 分库分表
  + 为什么要分库分表（设计高并发系统的时候，数据库层面该如何设计）？
  + 用过哪些分库分表中间件？
  + 不同的分库分表中间件都有什么优点和缺点？
  + 你们具体是如何对数据库如何进行垂直拆分或水平拆分的？
  + 现在有一个未分库分表的系统，未来要分库分表，如何设计才可以让系统从未分库分表动态切换到分库分表上？
  + 如何设计可以动态扩容缩容的分库分表方案？
  + 分库分表之后，id主键如何处理？

6. 读写分离
  + 如何实现mysql的读写分离？
  + MySQL主从复制原理的是啥？
  + 如何解决mysql主从同步的延时问题？
